--DROP TABLE IF EXISTS PROFILES;
CREATE TABLE IF NOT EXISTS PROFILES (
        MODULETYPE      TEXT NOT NULL,
        PROFILENAME     TEXT NOT NULL,
        ALLVALUES       BLOB,
        PRIMARY KEY("MODULETYPE","PROFILENAME")
);
--DROP TABLE IF EXISTS PROFILES;
CREATE TABLE IF NOT EXISTS CONFIGURATIONS (
        CONFIGNAME     TEXT NOT NULL,
        MODULENAME     TEXT NOT NULL,
        MODULETYPE     TEXT NOT NULL,
        PROFILENAME    TEXT NOT NULL,
        PRIMARY KEY("CONFIGNAME","MODULENAME")
);
INSERT INTO CONFIGURATIONS VALUES ('modules','Indipanel','indipanel','default');
INSERT INTO CONFIGURATIONS VALUES ('modules','Allsky','allsky','default');
INSERT INTO CONFIGURATIONS VALUES ('modules','CCD inspector','inspector','default');
INSERT INTO CONFIGURATIONS VALUES ('modules','Focuser','focuser','default');
INSERT INTO CONFIGURATIONS VALUES ('modules','Navigator','navigator','default');
CREATE TABLE IF NOT EXISTS CATALOGS (
        CATALOG TEXT NOT NULL,
        CODE TEXT NOT NULL,
        RA REAL NOT NULL,
        NS TEXT NOT NULL,
        DEC REAL NOT NULL,
        DIAM REAL,
        MAG REAL,
        NAME TEXT,
        ALIAS TEXT,
        PRIMARY KEY("CATALOG","CODE","RA")
);
--DROP TABLE IF EXISTS OPTICS;
CREATE TABLE IF NOT EXISTS OPTICS (
        NAME     TEXT NOT NULL,
        FOCAL     REAL NOT NULL,
        DIAM     REAL NOT NULL,
        BARLOW REAL NOT NULL,
        FILTER BOOL,
        PRIMARY KEY("NAME")
);
INSERT INTO OPTICS VALUES ('SW200/800',800.0,200.0,1.0,TRUE);
INSERT INTO OPTICS VALUES ('254/1000',1000.0,254.0,1.5,FALSE);
CREATE TABLE IF NOT EXISTS USERS (
        LOGIN     TEXT NOT NULL,
        PW     TEXT NOT NULL,
        GRANT     BOOL NOT NULL, -- false : readOnly / true : read/write
        PRIMARY KEY("LOGIN")
);
INSERT INTO USERS VALUES ('GUEST','guest',false);
INSERT INTO USERS VALUES ('ADMIN','admin',true);
